{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\x1761\\\\Desktop\\\\refactoring\\\\demo_front\\\\my-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\defineProperty.js\";import _objectSpread from\"C:\\\\Users\\\\x1761\\\\Desktop\\\\refactoring\\\\demo_front\\\\my-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _slicedToArray from\"C:\\\\Users\\\\x1761\\\\Desktop\\\\refactoring\\\\demo_front\\\\my-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState}from\"react\";import Button from\"@material-ui/core/Button\";import{makeStyles}from\"@material-ui/core/styles\";import $ from\"jquery\";import Container from\"@material-ui/core/Container\";import CssBaseline from\"@material-ui/core/CssBaseline\";import Typography from\"@material-ui/core/Typography\";import Grid from\"@material-ui/core/Grid\";import TextField from\"@material-ui/core/TextField\";import FormControl from\"@material-ui/core/FormControl\";import InputLabel from\"@material-ui/core/InputLabel\";import Select from\"@material-ui/core/Select\";import Modal from\"@material-ui/core/Modal\";import Backdrop from\"@material-ui/core/Backdrop\";import Fade from\"@material-ui/core/Fade\";import TextareaAutosize from'@material-ui/core/TextareaAutosize';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{modal:{display:'flex',alignItems:'center',justifyContent:'center'},paper:{backgroundColor:theme.palette.background.paper,border:'2px solid #000',boxShadow:theme.shadows[5],padding:theme.spacing(2,4,3)}};});var useStylesForm=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(3)},submit:{margin:theme.spacing(3,0,2)},margin:{margin:theme.spacing(1)}};});function ReportProblem(){var classes=useStylesForm();var problem_types=['','UI','BUGS','SCRIPT'];var _useState=useState({problem_type:'',description:''}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var handleChange=function handleChange(event){var name=event.target.name;setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},name,event.target.value)));};function sendAccount(problem_type,description){$.ajax({url:\"api/report\",method:\"POST\",data:{problem_type:problem_type,description:description,user_id:window.sessionStorage.getItem(\"id\")},async:false,success:function success(res){if(res){alert('Question accquired. It will be fixed soon.');}else{//dispatch(clearAccount());\nalert('Make sure you didn\\'t send an empty description or type');}}});}return/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Report question\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,noValidate:true,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{onChange:handleChange,variant:\"outlined\",required:true,fullWidth:true,name:\"description\",label:\"Description\",id:\"description\",autoComplete:\"current-description\"})}),/*#__PURE__*/_jsxs(FormControl,{className:classes.margin,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-customized-select-label\",children:\"problem type\"}),/*#__PURE__*/_jsx(Select,{native:true,value:state.problem_type,onChange:handleChange,inputProps:{name:'problem_type',id:'type-native-simple'},children:problem_types.map(function(item){return/*#__PURE__*/_jsx(\"option\",{value:item,children:item});})})]})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,onClick:function onClick(){return sendAccount(state.problem_type,state.description);},children:\"Report question\"})]})]})]});}function TransitionsModal(){var classes=useStyles();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var handleOpen=function handleOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{type:\"button\",onClick:handleOpen,color:\"inherit\",children:\"Report question\"}),/*#__PURE__*/_jsx(Modal,{\"aria-labelledby\":\"transition-modal-title\",\"aria-describedby\":\"transition-modal-description\",className:classes.modal,open:open,onClose:handleClose,closeAfterTransition:true,BackdropComponent:Backdrop,BackdropProps:{timeout:500},children:/*#__PURE__*/_jsx(Fade,{in:open,children:/*#__PURE__*/_jsx(\"div\",{className:classes.paper,children:/*#__PURE__*/_jsx(ReportProblem,{})})})})]});}export default function ReportTool(){return/*#__PURE__*/_jsx(TransitionsModal,{});}","map":{"version":3,"sources":["C:/Users/x1761/Desktop/refactoring/demo_front/my-app/src/components/main/reportTool.jsx"],"names":["React","useState","Button","makeStyles","$","Container","CssBaseline","Typography","Grid","TextField","FormControl","InputLabel","Select","Modal","Backdrop","Fade","TextareaAutosize","useStyles","theme","modal","display","alignItems","justifyContent","paper","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","useStylesForm","marginTop","flexDirection","avatar","margin","secondary","main","form","width","submit","ReportProblem","classes","problem_types","problem_type","description","state","setState","handleChange","event","name","target","value","sendAccount","ajax","url","method","data","user_id","window","sessionStorage","getItem","async","success","res","alert","id","map","item","TransitionsModal","open","setOpen","handleOpen","handleClose","timeout","ReportTool"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport $ from \"jquery\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport Fade from \"@material-ui/core/Fade\";\r\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n    },\r\n}));\r\nconst useStylesForm = makeStyles((theme) => ({\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n    margin: {\r\n        margin: theme.spacing(1),\r\n    }\r\n}));\r\nfunction ReportProblem (){\r\n    const classes = useStylesForm();\r\n    const problem_types = ['','UI', 'BUGS', 'SCRIPT'];\r\n    const [state,setState] = useState({\r\n        problem_type: '',\r\n        description: '',\r\n    })\r\n    const handleChange = (event) => {\r\n        const name = event.target.name;\r\n        setState({\r\n            ...state,\r\n            [name]: event.target.value,\r\n        });\r\n    };\r\n    function sendAccount(problem_type,description){\r\n        $.ajax({\r\n                url: \"api/report\",\r\n                method:\"POST\",\r\n                data:{\r\n                    problem_type:problem_type,\r\n                    description:description,\r\n                    user_id:window.sessionStorage.getItem(\"id\")\r\n                },\r\n                async:false,\r\n                success:function (res){\r\n                    if(res){\r\n                        alert('Question accquired. It will be fixed soon.')\r\n                    }else {\r\n                        //dispatch(clearAccount());\r\n                        alert('Make sure you didn\\'t send an empty description or type');\r\n                    }\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n            <CssBaseline />\r\n            <div className={classes.paper}>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    Report question\r\n                </Typography>\r\n                <form className={classes.form} noValidate>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                onChange={handleChange}\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                name=\"description\"\r\n                                label=\"Description\"\r\n                                id=\"description\"\r\n                                autoComplete=\"current-description\"\r\n                            />\r\n                        </Grid>\r\n                        <FormControl className={classes.margin}>\r\n                            <InputLabel id=\"demo-customized-select-label\">problem type</InputLabel>\r\n                            <Select\r\n                                native\r\n                                value={state.problem_type}\r\n                                onChange={handleChange}\r\n                                inputProps={{\r\n                                    name: 'problem_type',\r\n                                    id: 'type-native-simple',\r\n                                }}\r\n                            >\r\n                                {\r\n                                    problem_types.map(item=>(\r\n                                        <option value={item}>{item}</option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                        onClick={()=>sendAccount(state.problem_type,state.description)}\r\n                    >\r\n                        Report question\r\n                    </Button>\r\n                </form>\r\n            </div>\r\n        </Container>\r\n    );\r\n}\r\nfunction TransitionsModal() {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Button type=\"button\" onClick={handleOpen} color={\"inherit\"}>\r\n                Report question\r\n            </Button>\r\n            <Modal\r\n                aria-labelledby=\"transition-modal-title\"\r\n                aria-describedby=\"transition-modal-description\"\r\n                className={classes.modal}\r\n                open={open}\r\n                onClose={handleClose}\r\n                closeAfterTransition\r\n                BackdropComponent={Backdrop}\r\n                BackdropProps={{\r\n                    timeout: 500,\r\n                }}\r\n            >\r\n                <Fade in={open}>\r\n                    <div className={classes.paper}>\r\n                        <ReportProblem/>\r\n                    </div>\r\n                </Fade>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default function ReportTool(){\r\n    return(\r\n        <TransitionsModal/>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}