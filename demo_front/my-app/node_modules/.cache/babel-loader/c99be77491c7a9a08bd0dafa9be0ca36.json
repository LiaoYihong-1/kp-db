{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\x1761\\\\Desktop\\\\refactoring\\\\demo_front\\\\my-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\defineProperty.js\";import _objectSpread from\"C:\\\\Users\\\\x1761\\\\Desktop\\\\refactoring\\\\demo_front\\\\my-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _slicedToArray from\"C:\\\\Users\\\\x1761\\\\Desktop\\\\refactoring\\\\demo_front\\\\my-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Typography from\"@material-ui/core/Typography\";import{makeStyles}from'@material-ui/core/styles';import Box from'@material-ui/core/Box';import Collapse from'@material-ui/core/Collapse';import IconButton from'@material-ui/core/IconButton';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Paper from'@material-ui/core/Paper';import KeyboardArrowDownIcon from'@material-ui/icons/KeyboardArrowDown';import KeyboardArrowUpIcon from'@material-ui/icons/KeyboardArrowUp';import $ from\"jquery\";import Button from\"@material-ui/core/Button\";import Container from\"@material-ui/core/Container\";import CssBaseline from\"@material-ui/core/CssBaseline\";import Grid from\"@material-ui/core/Grid\";import TextField from\"@material-ui/core/TextField\";import FormControl from\"@material-ui/core/FormControl\";import InputLabel from\"@material-ui/core/InputLabel\";import Select from\"@material-ui/core/Select\";import Modal from\"@material-ui/core/Modal\";import Backdrop from\"@material-ui/core/Backdrop\";import Fade from\"@material-ui/core/Fade\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{modal:{display:'flex',alignItems:'center',justifyContent:'center'},paper:{backgroundColor:theme.palette.background.paper,border:'2px solid #000',boxShadow:theme.shadows[5],padding:theme.spacing(2,4,3)}};});var useStylesForm=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(3)},submit:{margin:theme.spacing(3,0,2)},margin:{margin:theme.spacing(1)}};});function AddRoom(props){var classes=useStylesForm();var house_id=props.house_id;var room_types=['','KITCHEN','BEDROOM','BATHROOM','LIVING'];var _useState=useState({square:0,height:0,room_type:''}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var handleChange=function handleChange(event){var name=event.target.name;setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},name,event.target.value)));};function sendRoom(square,height,room_type,house_id){$.ajax({url:\"api/addroom\",method:\"POST\",data:{height:height,square:square,room_type:room_type,user_id:window.sessionStorage.getItem(\"id\"),house_id:house_id},async:false,success:function success(res){if(res.success){alert('success');}else{//dispatch(clearAccount());\nalert(res.message);}}});}return/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Add House\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,noValidate:true,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{onChange:handleChange,variant:\"outlined\",required:true,fullWidth:true,name:\"square\",label:\"square\",id:\"square\",autoComplete:\"current-square\",type:\"number\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{onChange:handleChange,variant:\"outlined\",required:true,fullWidth:true,name:\"height\",label:\"height\",id:\"height\",autoComplete:\"current-height\",type:\"number\"})}),/*#__PURE__*/_jsxs(FormControl,{className:classes.margin,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-customized-select-label\",children:\"Room type\"}),/*#__PURE__*/_jsx(Select,{native:true,value:state.room_type,onChange:handleChange,inputProps:{name:'room_type',id:'type-native-simple'},children:room_types.map(function(item){return/*#__PURE__*/_jsx(\"option\",{value:item,children:item});})})]})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,onClick:function onClick(){return sendRoom(state.square,state.height,state.room_type,house_id);},children:\"Add Room\"})]})]})]});}var useRowStyles=makeStyles({root:{'& > *':{borderBottom:'unset'}}});function AddFurniture(props){var classes=useStylesForm();var roomId=props.room_id;var furniture_type=['','AIR_CONDITION','LIGHT','HUMIDIFIER','BATHTUB','OUTLET','CURTAINS','FAN','CAMERA','WATER_HEATER'];var _useState3=useState({manufacture:0,furniture_type:''}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];var handleChange=function handleChange(event){var name=event.target.name;setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},name,event.target.value)));};function sendFurniture(manufacture,furniture_type){$.ajax({url:\"api/addfurniture\",method:\"POST\",data:{manufacture:manufacture,furniture_type:furniture_type,room_id:roomId},async:false,success:function success(res){if(res){alert('success');}}});}return/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Add Furniture\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,noValidate:true,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{onChange:handleChange,variant:\"outlined\",required:true,fullWidth:true,name:\"manufacture\",label:\"Manufacture\",id:\"manufacture\",autoComplete:\"current-manufacture\"})}),/*#__PURE__*/_jsxs(FormControl,{className:classes.margin,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-customized-select-label\",children:\"Room type\"}),/*#__PURE__*/_jsx(Select,{native:true,value:state.furniture_type,onChange:handleChange,inputProps:{name:'furniture_type',id:'type-native-simple'},children:furniture_type.map(function(item){return/*#__PURE__*/_jsx(\"option\",{value:item,children:item});})})]})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,onClick:function onClick(){return sendFurniture(state.manufacture,state.furniture_type);},children:\"Add furniture\"})]})]})]});}function Furniture(props){var furniture=props.furniture;var classes=useRowStyles();return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(TableRow,{className:classes.root,children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:furniture.id}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:furniture.furniture_type}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:furniture.manufacture}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:furniture.available})]})});}function Room(props){var room=props.room;var classes=useRowStyles();var formclasses=useStyles();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),formopen=_React$useState4[0],setFormopen=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),funirtureaquired=_React$useState6[0],setFunirtureaquired=_React$useState6[1];function getFurniture(){$.ajax({url:\"api/getfurniture\",method:\"POST\",data:{id:room.id},async:false,success:function success(res){if(res.length>0){room.furniture.length=0;for(var i in res){if(res[i].available){room.furniture.push({available:\"Yes\",furniture_type:res[i].furniture_type,manufacture:res[i].manufacture,id:res[i].id});}else{room.furniture.push({available:\"No\",furniture_type:res[i].furniture_type,manufacture:res[i].manufacture,id:res[i].id});}}setFunirtureaquired(true);}}});}useEffect(function(){if(!funirtureaquired){getFurniture();}});return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(TableRow,{className:classes.root,children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"expand row\",size:\"small\",onClick:function onClick(){return setOpen(!open);},children:open?/*#__PURE__*/_jsx(KeyboardArrowUpIcon,{}):/*#__PURE__*/_jsx(KeyboardArrowDownIcon,{})})}),/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:room.id}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:room.square}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:room.height}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:room.room_type}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:room.is_filled})]}),/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:/*#__PURE__*/_jsx(Collapse,{in:open,timeout:\"auto\",unmountOnExit:true,children:/*#__PURE__*/_jsxs(Box,{margin:1,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,component:\"div\",children:\"Furniture\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",size:\"small\",onClick:function onClick(){return setFormopen(!formopen);},children:\"Add Furniture\"}),/*#__PURE__*/_jsxs(Table,{size:\"small\",\"aria-label\":\"purchases\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"ID\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Type\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Manufacture\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Available\"})})]})}),/*#__PURE__*/_jsx(TableBody,{children:room.furniture.map(function(f){return/*#__PURE__*/_jsx(Furniture,{furniture:f});})})]})]})})})}),/*#__PURE__*/_jsx(Modal,{\"aria-labelledby\":\"transition-modal-title\",\"aria-describedby\":\"transition-modal-description\",className:formclasses.modal,open:formopen,onClose:function onClose(){return setFormopen(false);},closeAfterTransition:true,BackdropComponent:Backdrop,BackdropProps:{timeout:500},children:/*#__PURE__*/_jsx(Fade,{in:formopen,children:/*#__PURE__*/_jsx(\"div\",{className:formclasses.paper,children:/*#__PURE__*/_jsx(AddFurniture,{room_id:room.id})})})})]});}function Row(props){var row=props.row;var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),open=_React$useState8[0],setOpen=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),formopen=_React$useState10[0],setFormopen=_React$useState10[1];var _React$useState11=React.useState(false),_React$useState12=_slicedToArray(_React$useState11,2),getroom=_React$useState12[0],setGetroom=_React$useState12[1];var classes=useRowStyles();var formclasses=useStyles();function getRoom(){$.ajax({url:\"api/getroom\",method:\"POST\",data:{house_id:row.id},async:false,success:function success(res){if(res.length>0){row.rooms.length=0;for(var i in res){if(res[i].is_filled){row.rooms.push({id:res[i].id,square:res[i].square,height:res[i].height,room_type:res[i].room_type,is_filled:\"Fixed\",furniture:[]});}else{row.rooms.push({id:res[i].id,square:res[i].square,height:res[i].height,room_type:res[i].room_type,is_filled:\"Fixing\",furniture:[]});}}setGetroom(true);}}});}useEffect(function(){if(!getroom){getRoom();}});return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(TableRow,{className:classes.root,children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"expand row\",size:\"small\",onClick:function onClick(){return setOpen(!open);},children:open?/*#__PURE__*/_jsx(KeyboardArrowUpIcon,{}):/*#__PURE__*/_jsx(KeyboardArrowDownIcon,{})})}),/*#__PURE__*/_jsx(TableCell,{component:\"th\",children:row.id}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.country}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.city}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.street}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.house_type})]}),/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:/*#__PURE__*/_jsx(Collapse,{in:open,timeout:\"auto\",unmountOnExit:true,children:/*#__PURE__*/_jsxs(Box,{margin:1,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,component:\"div\",children:\"Room\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",size:\"small\",onClick:function onClick(){return setFormopen(!formopen);},children:\"Add Room\"}),/*#__PURE__*/_jsxs(Table,{size:\"small\",\"aria-label\":\"purchases\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"ID\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Square\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Height\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Type\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Is filled\"})})]})}),/*#__PURE__*/_jsx(TableBody,{children:row.rooms.map(function(room){return/*#__PURE__*/_jsx(Room,{room:room});})})]})]})})})}),/*#__PURE__*/_jsx(Modal,{\"aria-labelledby\":\"transition-modal-title\",\"aria-describedby\":\"transition-modal-description\",className:formclasses.modal,open:formopen,onClose:function onClose(){return setFormopen(false);},closeAfterTransition:true,BackdropComponent:Backdrop,BackdropProps:{timeout:500},children:/*#__PURE__*/_jsx(Fade,{in:formopen,children:/*#__PURE__*/_jsx(\"div\",{className:formclasses.paper,children:/*#__PURE__*/_jsx(AddRoom,{house_id:row.id})})})})]});}var rows=[];function CollapsibleTable(){var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),gethouse=_useState6[0],setGethouse=_useState6[1];function getHouses(){$.ajax({url:\"api/gethouses\",method:\"POST\",data:{id:window.sessionStorage.getItem(\"id\")},async:false,success:function success(res){if(res.length>0){rows.length=0;for(var i in res){rows.push({id:res[i].id,street:res[i].street,country:res[i].country,city:res[i].city,house_type:res[i].house_type,rooms:[]});}setGethouse(true);}}});}useEffect(function(){if(!gethouse){getHouses();}});return/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{\"aria-label\":\"collapsible table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:\"Id\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:\"Country\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:\"City\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:\"Street\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:\"House type\"})})]})}),/*#__PURE__*/_jsx(TableBody,{children:rows.map(function(row){return/*#__PURE__*/_jsx(Row,{row:row});})})]})});}export default function MainHouse(){return/*#__PURE__*/_jsx(CollapsibleTable,{});}","map":{"version":3,"sources":["C:/Users/x1761/Desktop/refactoring/demo_front/my-app/src/components/main/mainHouse.jsx"],"names":["React","useEffect","useState","Typography","makeStyles","Box","Collapse","IconButton","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","KeyboardArrowDownIcon","KeyboardArrowUpIcon","$","Button","Container","CssBaseline","Grid","TextField","FormControl","InputLabel","Select","Modal","Backdrop","Fade","useStyles","theme","modal","display","alignItems","justifyContent","paper","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","useStylesForm","marginTop","flexDirection","avatar","margin","secondary","main","form","width","submit","AddRoom","props","classes","house_id","room_types","square","height","room_type","state","setState","handleChange","event","name","target","value","sendRoom","ajax","url","method","data","user_id","window","sessionStorage","getItem","async","success","res","alert","message","id","map","item","useRowStyles","root","borderBottom","AddFurniture","roomId","room_id","furniture_type","manufacture","sendFurniture","Furniture","furniture","available","Room","room","formclasses","open","setOpen","formopen","setFormopen","funirtureaquired","setFunirtureaquired","getFurniture","length","i","push","is_filled","paddingBottom","paddingTop","f","timeout","Row","row","getroom","setGetroom","getRoom","rooms","country","city","street","house_type","rows","CollapsibleTable","gethouse","setGethouse","getHouses","MainHouse"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Box from '@material-ui/core/Box';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\nimport $ from \"jquery\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport Fade from \"@material-ui/core/Fade\";\r\nconst useStyles = makeStyles((theme) => ({\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n    },\r\n}));\r\nconst useStylesForm = makeStyles((theme) => ({\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n    margin: {\r\n        margin: theme.spacing(1),\r\n    }\r\n}));\r\nfunction AddRoom(props) {\r\n    const classes = useStylesForm();\r\n    const house_id = props.house_id;\r\n    const room_types = ['','KITCHEN','BEDROOM','BATHROOM','LIVING'];\r\n    const [state,setState] = useState({\r\n        square: 0,\r\n        height: 0,\r\n        room_type:''\r\n    })\r\n    const handleChange = (event) => {\r\n        const name = event.target.name;\r\n        setState({\r\n            ...state,\r\n            [name]: event.target.value,\r\n        });\r\n    };\r\n\r\n    function sendRoom(square,height,room_type,house_id){\r\n        $.ajax({\r\n                url: \"api/addroom\",\r\n                method:\"POST\",\r\n                data:{\r\n                    height:height,\r\n                    square:square,\r\n                    room_type:room_type,\r\n                    user_id:window.sessionStorage.getItem(\"id\"),\r\n                    house_id:house_id\r\n                },\r\n                async:false,\r\n                success:function (res){\r\n                    if(res.success){\r\n                        alert('success')\r\n                    }else {\r\n                        //dispatch(clearAccount());\r\n                        alert(res.message);\r\n                    }\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n            <CssBaseline />\r\n            <div className={classes.paper}>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    Add House\r\n                </Typography>\r\n                <form className={classes.form} noValidate>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                onChange={handleChange}\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                name=\"square\"\r\n                                label=\"square\"\r\n                                id=\"square\"\r\n                                autoComplete=\"current-square\"\r\n                                type={\"number\"}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                onChange={handleChange}\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                name=\"height\"\r\n                                label=\"height\"\r\n                                id=\"height\"\r\n                                autoComplete=\"current-height\"\r\n                                type={\"number\"}\r\n                            />\r\n                        </Grid>\r\n                        <FormControl className={classes.margin}>\r\n                            <InputLabel id=\"demo-customized-select-label\">Room type</InputLabel>\r\n                            <Select\r\n                                native\r\n                                value={state.room_type}\r\n                                onChange={handleChange}\r\n                                inputProps={{\r\n                                    name: 'room_type',\r\n                                    id: 'type-native-simple',\r\n                                }}\r\n                            >\r\n                                {\r\n                                    room_types.map(item=>(\r\n                                        <option value={item}>{item}</option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                        onClick={()=>sendRoom(state.square,state.height,state.room_type,house_id)}\r\n                    >\r\n                        Add Room\r\n                    </Button>\r\n                </form>\r\n            </div>\r\n        </Container>\r\n    );\r\n}\r\n\r\nconst useRowStyles = makeStyles({\r\n    root: {\r\n        '& > *': {\r\n            borderBottom: 'unset',\r\n        },\r\n    },\r\n\r\n});\r\n\r\nfunction AddFurniture(props) {\r\n    const classes = useStylesForm();\r\n    const roomId = props.room_id;\r\n    const furniture_type = ['','AIR_CONDITION','LIGHT', 'HUMIDIFIER', 'BATHTUB', 'OUTLET','CURTAINS', 'FAN', 'CAMERA', 'WATER_HEATER'];\r\n    const [state,setState] = useState({\r\n        manufacture: 0,\r\n        furniture_type:''\r\n    })\r\n    const handleChange = (event) => {\r\n        const name = event.target.name;\r\n        setState({\r\n            ...state,\r\n            [name]: event.target.value,\r\n        });\r\n    };\r\n\r\n    function sendFurniture(manufacture,furniture_type){\r\n        $.ajax({\r\n                url: \"api/addfurniture\",\r\n                method:\"POST\",\r\n                data:{\r\n                    manufacture: manufacture,\r\n                    furniture_type:furniture_type,\r\n                    room_id:roomId\r\n                },\r\n                async:false,\r\n                success:function (res){\r\n                    if(res){\r\n                        alert('success')\r\n                    }\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n            <CssBaseline />\r\n            <div className={classes.paper}>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    Add Furniture\r\n                </Typography>\r\n                <form className={classes.form} noValidate>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                onChange={handleChange}\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                name=\"manufacture\"\r\n                                label=\"Manufacture\"\r\n                                id=\"manufacture\"\r\n                                autoComplete=\"current-manufacture\"\r\n                            />\r\n                        </Grid>\r\n                        <FormControl className={classes.margin}>\r\n                            <InputLabel id=\"demo-customized-select-label\">Room type</InputLabel>\r\n                            <Select\r\n                                native\r\n                                value={state.furniture_type}\r\n                                onChange={handleChange}\r\n                                inputProps={{\r\n                                    name: 'furniture_type',\r\n                                    id: 'type-native-simple',\r\n                                }}\r\n                            >\r\n                                {\r\n                                    furniture_type.map(item=>(\r\n                                        <option value={item}>{item}</option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                        onClick={()=>sendFurniture(state.manufacture,state.furniture_type)}\r\n                    >\r\n                        Add furniture\r\n                    </Button>\r\n                </form>\r\n            </div>\r\n        </Container>\r\n    );\r\n}\r\nfunction Furniture(props){\r\n    const {furniture} = props;\r\n    const classes = useRowStyles();\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <TableRow className={classes.root}>\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                    {furniture.id}\r\n                </TableCell>\r\n                <TableCell align=\"right\">{furniture.furniture_type}</TableCell>\r\n                <TableCell align=\"right\">{furniture.manufacture}</TableCell>\r\n                <TableCell align=\"right\">{furniture.available}</TableCell>\r\n            </TableRow>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nfunction Room(props){\r\n    const {room} = props;\r\n    const classes = useRowStyles();\r\n    const formclasses =useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n    const [formopen,setFormopen] = React.useState(false);\r\n    const [funirtureaquired,setFunirtureaquired] = React.useState(false);\r\n    function getFurniture(){\r\n        $.ajax({\r\n                url: \"api/getfurniture\",\r\n                method:\"POST\",\r\n                data:{\r\n                    id:room.id\r\n                },\r\n                async:false,\r\n                success:function (res){\r\n                    if(res.length > 0){\r\n                        room.furniture.length = 0;\r\n                        for(var i in res){\r\n                            if(res[i].available) {\r\n                                room.furniture.push({\r\n                                    available:\"Yes\",\r\n                                    furniture_type:res[i].furniture_type,\r\n                                    manufacture:res[i].manufacture,\r\n                                    id:res[i].id\r\n                                })\r\n                            }else{\r\n                                room.furniture.push({\r\n                                    available:\"No\",\r\n                                    furniture_type:res[i].furniture_type,\r\n                                    manufacture:res[i].manufacture,\r\n                                    id:res[i].id\r\n                                })\r\n                            }\r\n                        }\r\n                        setFunirtureaquired(true);\r\n                    }\r\n                }\r\n            }\r\n        );\r\n    }\r\n    useEffect(()=>{\r\n        if(!funirtureaquired){\r\n            getFurniture();\r\n        }\r\n    })\r\n    return (\r\n        <React.Fragment>\r\n            <TableRow className={classes.root}>\r\n                <TableCell>\r\n                    <IconButton aria-label=\"expand row\" size=\"small\" onClick={() => setOpen(!open)}>\r\n                        {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\r\n                    </IconButton>\r\n                </TableCell>\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                    {room.id}\r\n                </TableCell>\r\n                <TableCell align=\"right\">{room.square}</TableCell>\r\n                <TableCell align=\"right\">{room.height}</TableCell>\r\n                <TableCell align=\"right\">{room.room_type}</TableCell>\r\n                <TableCell align=\"right\">{room.is_filled}</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n                <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\r\n                    <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n                        <Box margin={1}>\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                                Furniture\r\n                            </Typography>\r\n                            <Button variant=\"contained\" color=\"primary\" size={\"small\"} onClick={()=>setFormopen(!formopen)}>\r\n                                Add Furniture\r\n                            </Button>\r\n                            <Table size=\"small\" aria-label=\"purchases\">\r\n                                <TableHead>\r\n                                    <TableRow>\r\n                                        <TableCell><Typography variant={\"h6\"}>ID</Typography></TableCell>\r\n                                        <TableCell  align=\"right\"><Typography variant={\"h6\"}>Type</Typography></TableCell>\r\n                                        <TableCell align=\"right\"><Typography variant={\"h6\"}>Manufacture</Typography></TableCell>\r\n                                        <TableCell align=\"right\"><Typography variant={\"h6\"}>Available</Typography></TableCell>\r\n                                    </TableRow>\r\n                                </TableHead>\r\n                                <TableBody>\r\n                                    {\r\n                                        room.furniture.map((f)=>(\r\n                                            <Furniture furniture={f}/>\r\n                                        ))\r\n                                    }\r\n                                </TableBody>\r\n                            </Table>\r\n                        </Box>\r\n                    </Collapse>\r\n                </TableCell>\r\n            </TableRow>\r\n            <Modal\r\n                aria-labelledby=\"transition-modal-title\"\r\n                aria-describedby=\"transition-modal-description\"\r\n                className={formclasses.modal}\r\n                open={formopen}\r\n                onClose={()=>setFormopen(false)}\r\n                closeAfterTransition\r\n                BackdropComponent={Backdrop}\r\n                BackdropProps={{\r\n                    timeout: 500,\r\n                }}\r\n            >\r\n                <Fade in={formopen}>\r\n                    <div className={formclasses.paper}>\r\n                        <AddFurniture room_id = {room.id}/>\r\n                    </div>\r\n                </Fade>\r\n            </Modal>\r\n        </React.Fragment>\r\n    );\r\n\r\n}\r\nfunction Row(props) {\r\n    const { row } = props;\r\n    const [open, setOpen] = React.useState(false);\r\n    const [formopen,setFormopen] = React.useState(false);\r\n    const [getroom,setGetroom] = React.useState(false);\r\n    const classes = useRowStyles();\r\n    const formclasses =useStyles();\r\n    function getRoom(){\r\n        $.ajax({\r\n                url: \"api/getroom\",\r\n                method:\"POST\",\r\n                data:{\r\n                    house_id: row.id\r\n                },\r\n                async:false,\r\n                success:function (res){\r\n                    if(res.length > 0){\r\n                        row.rooms.length = 0;\r\n                        for(var i in res){\r\n                            if(res[i].is_filled) {\r\n                                row.rooms.push({\r\n                                    id: res[i].id,\r\n                                    square: res[i].square,\r\n                                    height: res[i].height,\r\n                                    room_type: res[i].room_type,\r\n                                    is_filled: \"Fixed\",\r\n                                    furniture:[]\r\n                                })\r\n                            }else{\r\n                                row.rooms.push({\r\n                                    id: res[i].id,\r\n                                    square: res[i].square,\r\n                                    height: res[i].height,\r\n                                    room_type: res[i].room_type,\r\n                                    is_filled: \"Fixing\",\r\n                                    furniture:[]\r\n                                })\r\n                            }\r\n                        }\r\n                        setGetroom(true);\r\n                    }\r\n                }\r\n            }\r\n        );\r\n    }\r\n    useEffect(()=>{\r\n        if(!getroom){\r\n            getRoom();\r\n        }\r\n    });\r\n    return (\r\n        <React.Fragment>\r\n            <TableRow className={classes.root}>\r\n                <TableCell>\r\n                    <IconButton aria-label=\"expand row\" size=\"small\" onClick={() => setOpen(!open)}>\r\n                        {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\r\n                    </IconButton>\r\n                </TableCell>\r\n                <TableCell component=\"th\">\r\n                    {row.id}\r\n                </TableCell>\r\n                <TableCell align=\"right\">{row.country}</TableCell>\r\n                <TableCell align=\"right\">{row.city}</TableCell>\r\n                <TableCell align=\"right\">{row.street}</TableCell>\r\n                <TableCell align=\"right\">{row.house_type}</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n                <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\r\n                    <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n                        <Box margin={1}>\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                                Room\r\n                            </Typography>\r\n                            <Button variant=\"contained\" color=\"primary\" size={\"small\"} onClick={()=>setFormopen(!formopen)}>\r\n                                Add Room\r\n                            </Button>\r\n                            <Table size=\"small\" aria-label=\"purchases\">\r\n                                <TableHead>\r\n                                    <TableRow>\r\n                                        <TableCell />\r\n                                        <TableCell><Typography variant={\"h6\"}>ID</Typography></TableCell>\r\n                                        <TableCell  align=\"right\"><Typography variant={\"h6\"}>Square</Typography></TableCell>\r\n                                        <TableCell align=\"right\"><Typography variant={\"h6\"}>Height</Typography></TableCell>\r\n                                        <TableCell align=\"right\"><Typography variant={\"h6\"}>Type</Typography></TableCell>\r\n                                        <TableCell align=\"right\"><Typography variant={\"h6\"}>Is filled</Typography></TableCell>\r\n                                    </TableRow>\r\n                                </TableHead>\r\n                                <TableBody>\r\n                                    {row.rooms.map((room) => (\r\n                                        <Room room={room}/>\r\n                                    ))}\r\n                                </TableBody>\r\n                            </Table>\r\n                        </Box>\r\n                    </Collapse>\r\n                </TableCell>\r\n            </TableRow>\r\n            <Modal\r\n                aria-labelledby=\"transition-modal-title\"\r\n                aria-describedby=\"transition-modal-description\"\r\n                className={formclasses.modal}\r\n                open={formopen}\r\n                onClose={()=>setFormopen(false)}\r\n                closeAfterTransition\r\n                BackdropComponent={Backdrop}\r\n                BackdropProps={{\r\n                    timeout: 500,\r\n                }}\r\n            >\r\n                <Fade in={formopen}>\r\n                    <div className={formclasses.paper}>\r\n                        <AddRoom house_id = {row.id}/>\r\n                    </div>\r\n                </Fade>\r\n            </Modal>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nRow.propTypes = {\r\n    row: PropTypes.shape({\r\n        street: PropTypes.string.isRequired,\r\n        city: PropTypes.string.isRequired,\r\n        house: PropTypes.string.isRequired,\r\n        history: PropTypes.arrayOf(\r\n            PropTypes.shape({\r\n                amount: PropTypes.number.isRequired,\r\n                customerId: PropTypes.string.isRequired,\r\n                date: PropTypes.string.isRequired,\r\n            }),\r\n        ).isRequired,\r\n        house_type: PropTypes.string.isRequired,\r\n        price: PropTypes.number.isRequired,\r\n        id: PropTypes.number.isRequired,\r\n    }).isRequired,\r\n};\r\n\r\nconst rows = [\r\n\r\n];\r\n\r\nfunction CollapsibleTable() {\r\n    const [gethouse,setGethouse] = useState(false);\r\n    function getHouses(){\r\n        $.ajax({\r\n                url: \"api/gethouses\",\r\n                method:\"POST\",\r\n                data:{\r\n                    id:window.sessionStorage.getItem(\"id\")\r\n                },\r\n                async:false,\r\n                success:function (res){\r\n                    if(res.length > 0){\r\n                        rows.length = 0;\r\n                        for(var i in res){\r\n                            rows.push({\r\n                                id:res[i].id,\r\n                                street:res[i].street,\r\n                                country:res[i].country,\r\n                                city:res[i].city,\r\n                                house_type:res[i].house_type,\r\n                                rooms:[]\r\n                            })\r\n                        }\r\n                        setGethouse(true);\r\n                    }\r\n                }\r\n            }\r\n        );\r\n    }\r\n    useEffect(()=>{\r\n        if(!gethouse){\r\n            getHouses()\r\n        }\r\n    });\r\n    return (\r\n        <TableContainer component={Paper}>\r\n            <Table aria-label=\"collapsible table\">\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell />\r\n                        <TableCell><Typography variant={\"h4\"}>Id</Typography></TableCell>\r\n                        <TableCell align=\"right\"><Typography variant={\"h4\"}>Country</Typography></TableCell>\r\n                        <TableCell align=\"right\"><Typography variant={\"h4\"}>City</Typography></TableCell>\r\n                        <TableCell align=\"right\"><Typography variant={\"h4\"}>Street</Typography></TableCell>\r\n                        <TableCell align=\"right\"><Typography variant={\"h4\"}>House type</Typography></TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {rows.map((row)=>(\r\n                        <Row row={row} />\r\n                    ))}\r\n                </TableBody>\r\n            </Table>\r\n        </TableContainer>\r\n    );\r\n}\r\n\r\nexport default function MainHouse(){\r\n    return(\r\n        <CollapsibleTable/>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}