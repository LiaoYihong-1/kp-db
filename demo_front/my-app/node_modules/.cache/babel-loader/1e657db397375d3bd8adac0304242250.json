{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\x1761\\\\Desktop\\\\refactoring\\\\demo_front\\\\my-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState}from'react';import Avatar from'@material-ui/core/Avatar';import Button from'@material-ui/core/Button';import CssBaseline from'@material-ui/core/CssBaseline';import TextField from'@material-ui/core/TextField';import FormControlLabel from'@material-ui/core/FormControlLabel';import Checkbox from'@material-ui/core/Checkbox';import Link from'@material-ui/core/Link';import Grid from'@material-ui/core/Grid';import Box from'@material-ui/core/Box';import LockOutlinedIcon from'@material-ui/icons/LockOutlined';import Typography from'@material-ui/core/Typography';import Container from'@material-ui/core/Container';import $ from'jquery';import Background from'../../assets/graphs/login_back.jpg';import{makeStyles}from'@material-ui/core/styles';import{createBrowserHistory}from\"history\";import Paper from'@material-ui/core/Paper';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Copyright(){return/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"textSecondary\",align:\"center\",children:['Copyright © ',/*#__PURE__*/_jsx(Link,{color:\"inherit\",href:\"https://mui.com/\",children:\"Your Website\"}),' ',new Date().getFullYear(),'.']});}var useStyles=makeStyles(function(theme){return{root:{height:'100vh'},image:{backgroundImage:'url(https://amazingarchitecture.com/storage/2012/responsive-images/smart_home___media_library_original_1344_756.jpg)',backgroundRepeat:'no-repeat',backgroundColor:theme.palette.type==='light'?theme.palette.grey[50]:theme.palette.grey[900],backgroundSize:'cover',backgroundPosition:'center'},paper:{margin:theme.spacing(8,4),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{margin:theme.spacing(3,0,2)}};});export default function LoginPage(){var classes=useStyles();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];function sendAccount(username,password){$.ajax({url:\"api/login?password=\"+password+\"&username=\"+username,method:\"GET\",headers:{'Content-Type':'application/json'},async:false,success:function success(res){window.sessionStorage.setItem(\"username\",username);window.sessionStorage.setItem(\"password\",password);window.sessionStorage.setItem(\"id\",res.id);var history=createBrowserHistory();history.push('/main');}});}return/*#__PURE__*/_jsxs(Grid,{container:true,component:\"main\",className:classes.root,children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(Grid,{item:true,xs:false,sm:4,md:7,className:classes.image}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,md:5,component:Paper,elevation:6,square:true,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,children:/*#__PURE__*/_jsx(LockOutlinedIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Sign in\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,noValidate:true,children:[/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email Address or phone\",name:\"email\",autoComplete:\"email\",autoFocus:true,onChange:function onChange(event){return setUsername(event.target.value);}}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",onChange:function onChange(event){return setPassword(event.target.value);}}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{value:\"remember\",color:\"primary\"}),label:\"Remember me\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,onClick:function onClick(){sendAccount(username,password);},children:\"Sign In\"}),/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:true,children:/*#__PURE__*/_jsx(Link,{href:\"#\",variant:\"body2\",children:\"Forgot password?\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Link,{href:\"/signup\",variant:\"body2\",children:\"Don't have an account? Sign Up\"})})]}),/*#__PURE__*/_jsx(Box,{mt:5,children:/*#__PURE__*/_jsx(Copyright,{})})]})]})})]});}","map":{"version":3,"sources":["C:/Users/x1761/Desktop/refactoring/demo_front/my-app/src/components/login/login.jsx"],"names":["React","useState","Avatar","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Grid","Box","LockOutlinedIcon","Typography","Container","$","Background","makeStyles","createBrowserHistory","Paper","Copyright","Date","getFullYear","useStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","LoginPage","classes","password","setPassword","username","setUsername","sendAccount","ajax","url","method","headers","async","success","res","window","sessionStorage","setItem","id","history","push","event","target","value"],"mappings":"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","sourcesContent":["import React,{useState} from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport PropTypes from 'prop-types';\r\nimport $ from 'jquery';\r\nimport Background from '../../assets/graphs/login_back.jpg'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {createBrowserHistory} from \"history\";\r\nimport Paper from '@material-ui/core/Paper';\r\nfunction Copyright() {\r\n    return (\r\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n            {'Copyright © '}\r\n            <Link color=\"inherit\" href=\"https://mui.com/\">\r\n                Your Website\r\n            </Link>{' '}\r\n            {new Date().getFullYear()}\r\n            {'.'}\r\n        </Typography>\r\n    );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        height: '100vh',\r\n    },\r\n    image: {\r\n        backgroundImage: 'url(https://amazingarchitecture.com/storage/2012/responsive-images/smart_home___media_library_original_1344_756.jpg)',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundColor:\r\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n    },\r\n    paper: {\r\n        margin: theme.spacing(8, 4),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n}));\r\nexport default function LoginPage() {\r\n    const classes = useStyles();\r\n    const [password,setPassword] = useState('')\r\n    const [username,setUsername] = useState('')\r\n    function sendAccount(username,password){\r\n        $.ajax({\r\n                url: \"api/login?password=\"+password+\"&username=\"+username,\r\n                method:\"GET\",\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                async:false,\r\n                success:function (res){\r\n                    window.sessionStorage.setItem(\"username\",username);\r\n                    window.sessionStorage.setItem(\"password\",password);\r\n                    window.sessionStorage.setItem(\"id\",res.id);\r\n                    const history = createBrowserHistory();\r\n                    history.push('/main');\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Grid container component=\"main\" className={classes.root}>\r\n            <CssBaseline />\r\n            <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n            <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n                <div className={classes.paper}>\r\n                    <Avatar className={classes.avatar}>\r\n                        <LockOutlinedIcon />\r\n                    </Avatar>\r\n                    <Typography component=\"h1\" variant=\"h5\">\r\n                        Sign in\r\n                    </Typography>\r\n                    <form className={classes.form} noValidate>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            id=\"email\"\r\n                            label=\"Email Address or phone\"\r\n                            name=\"email\"\r\n                            autoComplete=\"email\"\r\n                            autoFocus\r\n                            onChange={(event)=>(setUsername(event.target.value))}\r\n                        />\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            name=\"password\"\r\n                            label=\"Password\"\r\n                            type=\"password\"\r\n                            id=\"password\"\r\n                            autoComplete=\"current-password\"\r\n                            onChange={(event)=>(setPassword(event.target.value))}\r\n                        />\r\n                        <FormControlLabel\r\n                            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n                            label=\"Remember me\"\r\n                        />\r\n                        <Button\r\n                            type=\"submit\"\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            className={classes.submit}\r\n                            onClick={()=>{\r\n                                sendAccount(username,password);}\r\n                            }\r\n                        >\r\n                            Sign In\r\n                        </Button>\r\n                        <Grid container>\r\n                            <Grid item xs>\r\n                                <Link href=\"#\" variant=\"body2\">\r\n                                    Forgot password?\r\n                                </Link>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Link href=\"/signup\" variant=\"body2\">\r\n                                    {\"Don't have an account? Sign Up\"}\r\n                                </Link>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Box mt={5}>\r\n                            <Copyright />\r\n                        </Box>\r\n                    </form>\r\n                </div>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}