{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\x1761\\\\Desktop\\\\refactoring\\\\demo_front\\\\my-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\defineProperty.js\";import _objectSpread from\"C:\\\\Users\\\\x1761\\\\Desktop\\\\refactoring\\\\demo_front\\\\my-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _slicedToArray from\"C:\\\\Users\\\\x1761\\\\Desktop\\\\refactoring\\\\demo_front\\\\my-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState}from\"react\";import Button from\"@material-ui/core/Button\";import{makeStyles}from\"@material-ui/core/styles\";import $ from\"jquery\";import Container from\"@material-ui/core/Container\";import CssBaseline from\"@material-ui/core/CssBaseline\";import Typography from\"@material-ui/core/Typography\";import Grid from\"@material-ui/core/Grid\";import TextField from\"@material-ui/core/TextField\";import FormControl from\"@material-ui/core/FormControl\";import InputLabel from\"@material-ui/core/InputLabel\";import Select from\"@material-ui/core/Select\";import Modal from\"@material-ui/core/Modal\";import Backdrop from\"@material-ui/core/Backdrop\";import Fade from\"@material-ui/core/Fade\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{modal:{display:'flex',alignItems:'center',justifyContent:'center'},paper:{backgroundColor:theme.palette.background.paper,border:'2px solid #000',boxShadow:theme.shadows[5],padding:theme.spacing(2,4,3)}};});var useStylesForm=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(3)},submit:{margin:theme.spacing(3,0,2)},margin:{margin:theme.spacing(1)}};});function AddShare(){var classes=useStylesForm();var _useState=useState({share:''}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var handleChange=function handleChange(event){var name=event.target.name;setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},name,event.target.value)));};function addShare(share){$.ajax({url:\"api/shareHouse\",method:\"POST\",data:{shareid:share,user_id:sessionStorage.getItem(\"id\")},async:false,success:function success(res){if(res.success){alert('success');}else{//dispatch(clearAccount());\nalert(res.message);}}});}return/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Join Other's House\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,noValidate:true,children:[/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{onChange:handleChange,variant:\"outlined\",required:true,fullWidth:true,name:\"share\",label:\"Share id\",id:\"share\",autoComplete:\"current-share\",type:\"number\"})})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,onClick:function onClick(){addShare(state.share);},children:\"Add\"})]})]})]});}function AddHouse(){var classes=useStylesForm();var countries=['','US','UK','RUSSIA','CHINA','FRANCE'];var house_types=['','APARTMENTS','VILLAS','HIGHEND','ORDINARY'];var cities={'':[''],'CHINA':['','Shanghai','Beijing','Shenzhen','Guangzhou','Chengdu'],'FRANCE':['','Paris','Marseille','Lyon','Toulouse'],'UK':['','Cambridge','Edinburgh','London','Liverpool'],'US':['','New York','Los Angeles','Chicago','Boston'],'RUSSIA':['','Moscow']};var _useState3=useState({country:'',city:'',street:'',house_type:''}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];var handleChange=function handleChange(event){var name=event.target.name;setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},name,event.target.value)));};function sendAddress(city,country,street,house_type){$.ajax({url:\"api/house\",method:\"POST\",headers:{'Content-Type':'application/json'},data:JSON.stringify({city:city.replace(\" \",\"_\"),country:country.toUpperCase(),street:street,houseType:house_type.toUpperCase(),userId:window.sessionStorage.getItem(\"id\")}),async:false,success:function success(res){if(res.success){alert('success');}else{//dispatch(clearAccount());\nalert(res.message);}}});}return/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Add House\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,noValidate:true,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{onChange:handleChange,variant:\"outlined\",required:true,fullWidth:true,name:\"street\",label:\"street\",id:\"street\",autoComplete:\"current-street\"})}),/*#__PURE__*/_jsxs(FormControl,{className:classes.margin,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-customized-select-label\",children:\"Country\"}),/*#__PURE__*/_jsx(Select,{native:true,value:state.country,onChange:handleChange,inputProps:{name:'country',id:'country-native-simple'},children:countries.map(function(item){return/*#__PURE__*/_jsx(\"option\",{value:item,children:item});})})]}),/*#__PURE__*/_jsxs(FormControl,{className:classes.margin,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-customized-select-label\",children:\"City\"}),/*#__PURE__*/_jsx(Select,{native:true,value:state.city,onChange:handleChange,inputProps:{name:'city',id:'city-native-simple'},children:cities[state.country].map(function(item){return/*#__PURE__*/_jsx(\"option\",{value:item,children:item});})})]}),/*#__PURE__*/_jsxs(FormControl,{className:classes.margin,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-customized-select-label\",children:\"House type\"}),/*#__PURE__*/_jsx(Select,{native:true,value:state.house_type,onChange:handleChange,inputProps:{name:'house_type',id:'type-native-simple'},children:house_types.map(function(item){return/*#__PURE__*/_jsx(\"option\",{value:item,children:item});})})]})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,onClick:function onClick(){return sendAddress(state.city,state.country,state.street,state.house_type);},children:\"Add House\"})]})]})]});}function TransitionsModal(){var classes=useStyles();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),openShare=_React$useState4[0],setOpenShare=_React$useState4[1];var handleOpen=function handleOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var handleOpenShare=function handleOpenShare(){setOpenShare(true);};var handleCloseShare=function handleCloseShare(){setOpenShare(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{type:\"button\",onClick:handleOpen,color:\"inherit\",children:\"Add house\"}),/*#__PURE__*/_jsx(Button,{type:\"button\",onClick:handleOpenShare,color:\"inherit\",children:\"Share Other's House\"}),/*#__PURE__*/_jsx(Modal,{\"aria-labelledby\":\"transition-modal-title\",\"aria-describedby\":\"transition-modal-description\",className:classes.modal,open:open,onClose:handleClose,closeAfterTransition:true,BackdropComponent:Backdrop,BackdropProps:{timeout:500},children:/*#__PURE__*/_jsx(Fade,{in:open,children:/*#__PURE__*/_jsx(\"div\",{className:classes.paper,children:/*#__PURE__*/_jsx(AddHouse,{})})})}),/*#__PURE__*/_jsx(Modal,{\"aria-labelledby\":\"transition-modal-title\",\"aria-describedby\":\"transition-modal-description\",className:classes.modal,open:openShare,onClose:handleCloseShare,closeAfterTransition:true,BackdropComponent:Backdrop,BackdropProps:{timeout:500},children:/*#__PURE__*/_jsx(Fade,{in:openShare,children:/*#__PURE__*/_jsx(\"div\",{className:classes.paper,children:/*#__PURE__*/_jsx(AddShare,{})})})})]});}export default function HouseTools(){return/*#__PURE__*/_jsx(TransitionsModal,{});}","map":{"version":3,"sources":["C:/Users/x1761/Desktop/refactoring/demo_front/my-app/src/components/main/houseTools.jsx"],"names":["React","useState","Button","makeStyles","$","Container","CssBaseline","Typography","Grid","TextField","FormControl","InputLabel","Select","Modal","Backdrop","Fade","useStyles","theme","modal","display","alignItems","justifyContent","paper","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","useStylesForm","marginTop","flexDirection","avatar","margin","secondary","main","form","width","submit","AddShare","classes","share","state","setState","handleChange","event","name","target","value","addShare","ajax","url","method","data","shareid","user_id","sessionStorage","getItem","async","success","res","alert","message","AddHouse","countries","house_types","cities","country","city","street","house_type","sendAddress","headers","JSON","stringify","replace","toUpperCase","houseType","userId","window","id","map","item","TransitionsModal","open","setOpen","openShare","setOpenShare","handleOpen","handleClose","handleOpenShare","handleCloseShare","timeout","HouseTools"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport $ from \"jquery\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport Fade from \"@material-ui/core/Fade\";\r\nconst useStyles = makeStyles((theme) => ({\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n    },\r\n}));\r\nconst useStylesForm = makeStyles((theme) => ({\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n    margin: {\r\n        margin: theme.spacing(1),\r\n    }\r\n}));\r\nfunction AddShare() {\r\n    const classes = useStylesForm();\r\n    const [state,setState] = useState({\r\n        share:''\r\n    })\r\n    const handleChange = (event) => {\r\n        const name = event.target.name;\r\n        setState({\r\n            ...state,\r\n            [name]: event.target.value,\r\n        });\r\n    };\r\n    function addShare(share){\r\n        $.ajax({\r\n                url: \"api/shareHouse\",\r\n                method:\"POST\",\r\n                data:{\r\n                    shareid:share,\r\n                    user_id: sessionStorage.getItem(\"id\")\r\n                },\r\n                async:false,\r\n                success:function (res){\r\n                    if(res.success){\r\n                        alert('success')\r\n                    }else {\r\n                        //dispatch(clearAccount());\r\n                        alert(res.message);\r\n                    }\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n            <CssBaseline />\r\n            <div className={classes.paper}>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    Join Other's House\r\n                </Typography>\r\n                <form className={classes.form} noValidate>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                onChange={handleChange}\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                name=\"share\"\r\n                                label=\"Share id\"\r\n                                id=\"share\"\r\n                                autoComplete=\"current-share\"\r\n                                type = 'number'\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                        onClick={()=>{addShare(state.share);}}\r\n                    >\r\n                        Add\r\n                    </Button>\r\n                </form>\r\n            </div>\r\n        </Container>\r\n    );\r\n}\r\nfunction AddHouse() {\r\n    const classes = useStylesForm();\r\n    const countries = ['','US','UK','RUSSIA','CHINA','FRANCE'];\r\n    const house_types = ['','APARTMENTS', 'VILLAS', 'HIGHEND','ORDINARY'];\r\n    const cities = {\r\n        '':[''],\r\n        'CHINA':['','Shanghai', 'Beijing', 'Shenzhen', 'Guangzhou', 'Chengdu'],\r\n        'FRANCE':['','Paris', 'Marseille', 'Lyon', 'Toulouse'],\r\n        'UK':['','Cambridge', 'Edinburgh',  'London', 'Liverpool'],\r\n        'US':['','New York', 'Los Angeles', 'Chicago', 'Boston'],\r\n        'RUSSIA':['','Moscow']\r\n    }\r\n    const [state,setState] = useState({\r\n        country: '',\r\n        city: '',\r\n        street: '',\r\n        house_type:'',\r\n    })\r\n    const handleChange = (event) => {\r\n        const name = event.target.name;\r\n        setState({\r\n            ...state,\r\n            [name]: event.target.value,\r\n        });\r\n    };\r\n    function sendAddress(city,country,street,house_type){\r\n        $.ajax({\r\n                url: \"api/house\",\r\n                method:\"POST\",\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                data:JSON.stringify({\r\n                    city:city.replace(\" \",\"_\"),\r\n                    country:country.toUpperCase(),\r\n                    street:street,\r\n                    houseType:house_type.toUpperCase(),\r\n                    userId:window.sessionStorage.getItem(\"id\")\r\n                }),\r\n                async:false,\r\n                success:function (res){\r\n                    if(res.success){\r\n                        alert('success')\r\n                    }else {\r\n                        //dispatch(clearAccount());\r\n                        alert(res.message);\r\n                    }\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n            <CssBaseline />\r\n            <div className={classes.paper}>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    Add House\r\n                </Typography>\r\n                <form className={classes.form} noValidate>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                onChange={handleChange}\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                name=\"street\"\r\n                                label=\"street\"\r\n                                id=\"street\"\r\n                                autoComplete=\"current-street\"\r\n                            />\r\n                        </Grid>\r\n                        <FormControl className={classes.margin}>\r\n                            <InputLabel id=\"demo-customized-select-label\">Country</InputLabel>\r\n                            <Select\r\n                                native\r\n                                value={state.country}\r\n                                onChange={handleChange}\r\n                                inputProps={{\r\n                                    name: 'country',\r\n                                    id: 'country-native-simple',\r\n                                }}\r\n                            >\r\n                                {\r\n                                    countries.map(item=>(\r\n                                        <option value={item}>{item}</option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </FormControl>\r\n                        <FormControl className={classes.margin}>\r\n                            <InputLabel id=\"demo-customized-select-label\">City</InputLabel>\r\n                            <Select\r\n                                native\r\n                                value={state.city}\r\n                                onChange={handleChange}\r\n                                inputProps={{\r\n                                    name: 'city',\r\n                                    id: 'city-native-simple',\r\n                                }}\r\n                            >\r\n                                {\r\n                                    cities[state.country].map(item=>(\r\n                                        <option value={item}>{item}</option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </FormControl>\r\n                        <FormControl className={classes.margin}>\r\n                            <InputLabel id=\"demo-customized-select-label\">House type</InputLabel>\r\n                            <Select\r\n                                native\r\n                                value={state.house_type}\r\n                                onChange={handleChange}\r\n                                inputProps={{\r\n                                    name: 'house_type',\r\n                                    id: 'type-native-simple',\r\n                                }}\r\n                            >\r\n                                {\r\n                                    house_types.map(item=>(\r\n                                        <option value={item}>{item}</option>\r\n                                    ))\r\n                                }\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                        onClick={()=>sendAddress(state.city,state.country,state.street,state.house_type)}\r\n                    >\r\n                        Add House\r\n                    </Button>\r\n                </form>\r\n            </div>\r\n        </Container>\r\n    );\r\n}\r\nfunction TransitionsModal() {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n    const [openShare, setOpenShare] = React.useState(false);\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n    const handleOpenShare = () => {\r\n        setOpenShare(true);\r\n    };\r\n\r\n    const handleCloseShare = () => {\r\n        setOpenShare(false);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Button type=\"button\" onClick={handleOpen} color={\"inherit\"}>\r\n                Add house\r\n            </Button>\r\n            <Button type=\"button\" onClick={handleOpenShare} color={\"inherit\"}>\r\n                Share Other's House\r\n            </Button>\r\n            <Modal\r\n                aria-labelledby=\"transition-modal-title\"\r\n                aria-describedby=\"transition-modal-description\"\r\n                className={classes.modal}\r\n                open={open}\r\n                onClose={handleClose}\r\n                closeAfterTransition\r\n                BackdropComponent={Backdrop}\r\n                BackdropProps={{\r\n                    timeout: 500,\r\n                }}\r\n            >\r\n                <Fade in={open}>\r\n                    <div className={classes.paper}>\r\n                        <AddHouse/>\r\n                    </div>\r\n                </Fade>\r\n            </Modal>\r\n            <Modal\r\n                aria-labelledby=\"transition-modal-title\"\r\n                aria-describedby=\"transition-modal-description\"\r\n                className={classes.modal}\r\n                open={openShare}\r\n                onClose={handleCloseShare}\r\n                closeAfterTransition\r\n                BackdropComponent={Backdrop}\r\n                BackdropProps={{\r\n                    timeout: 500,\r\n                }}\r\n            >\r\n                <Fade in={openShare}>\r\n                    <div className={classes.paper}>\r\n                        <AddShare/>\r\n                    </div>\r\n                </Fade>\r\n            </Modal>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default function HouseTools(){\r\n    return(\r\n        <TransitionsModal/>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}