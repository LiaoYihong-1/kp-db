{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\x1761\\\\Desktop\\\\refactoring\\\\demo_front\\\\my-app\\\\src\\\\components\\\\main\\\\mainSchedule.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport $ from \"jquery\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport Container from \"@material-ui/core/Container\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\nimport KeyboardArrowDownIcon from \"@material-ui/icons/KeyboardArrowDown\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Box from \"@material-ui/core/Box\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AddAction from \"./addAction\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useRowStyles = makeStyles({\n  root: {\n    '& > *': {\n      borderBottom: 'unset'\n    }\n  }\n});\nconst useStyles = makeStyles(theme => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3)\n  }\n}));\n\nfunction Action(props) {\n  _s();\n\n  const {\n    action\n  } = props;\n  const classes = useRowStyles();\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(TableRow, {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(TableCell, {\n        component: \"th\",\n        scope: \"row\",\n        children: action.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        align: \"right\",\n        children: action.action_type\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        align: \"right\",\n        children: action.target_id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        align: \"right\",\n        children: action.target_type\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Action, \"qEs4RM/OTvmbdHBUPBip2p0D5V8=\", false, function () {\n  return [useRowStyles];\n});\n\n_c = Action;\nconst scripts = [];\n\nfunction Schedule(props) {\n  _s2();\n\n  const classes = useRowStyles();\n  const formclasses = useStyles();\n  const {\n    script\n  } = props;\n  const [open, setOpen] = React.useState(false);\n  const [formopen, setFormopen] = React.useState(false);\n  const [getaction, setGetaction] = useState(false);\n\n  function getAction() {\n    $.ajax({\n      url: \"api/getActions\",\n      method: \"POST\",\n      data: {\n        script_id: script.id\n      },\n      async: false,\n      success: function (res) {\n        script.action.length = 0;\n\n        for (var i in res) {\n          script.action.push({\n            id: res[i].action_id,\n            target_id: res[i].target_id,\n            action_type: res[i].action_type,\n            target_type: res[i].target_type\n          });\n        }\n\n        setGetaction(true);\n      }\n    });\n  }\n\n  useEffect(() => {\n    if (!getaction) {\n      getAction();\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TableRow, {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(TableCell, {\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          \"aria-label\": \"expand row\",\n          size: \"small\",\n          onClick: () => setOpen(!open),\n          children: open ? /*#__PURE__*/_jsxDEV(KeyboardArrowUpIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(KeyboardArrowDownIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 59\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        component: \"th\",\n        children: script.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        align: \"right\",\n        children: script.time\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        align: \"right\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          color: \"primary\",\n          children: \"Execute\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n      children: /*#__PURE__*/_jsxDEV(TableCell, {\n        style: {\n          paddingBottom: 0,\n          paddingTop: 0\n        },\n        colSpan: 6,\n        children: /*#__PURE__*/_jsxDEV(Collapse, {\n          in: open,\n          timeout: \"auto\",\n          unmountOnExit: true,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            margin: 1,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              gutterBottom: true,\n              component: \"div\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              size: \"small\",\n              onClick: () => setFormopen(!formopen),\n              children: \"Add Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Table, {\n              size: \"small\",\n              \"aria-label\": \"purchases\",\n              children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                children: /*#__PURE__*/_jsxDEV(TableRow, {\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"h6\",\n                      children: \"Action ID\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 52\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"right\",\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"h6\",\n                      children: \"Type\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 130,\n                      columnNumber: 67\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"right\",\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"h6\",\n                      children: \"Furniture\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 131,\n                      columnNumber: 66\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"right\",\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"h6\",\n                      children: \"Furniture Type\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 132,\n                      columnNumber: 66\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                children: script.action.map(a => /*#__PURE__*/_jsxDEV(Action, {\n                  action: a\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 49\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Modal, {\n              \"aria-labelledby\": \"transition-modal-title\",\n              \"aria-describedby\": \"transition-modal-description\",\n              className: formclasses.modal,\n              open: formopen,\n              onClose: () => setFormopen(false),\n              closeAfterTransition: true,\n              BackdropComponent: Backdrop,\n              BackdropProps: {\n                timeout: 500\n              },\n              children: /*#__PURE__*/_jsxDEV(Fade, {\n                in: formopen,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: formclasses.paper,\n                  children: /*#__PURE__*/_jsxDEV(AddAction, {\n                    type: \"schedule\",\n                    script_id: script.id\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(Schedule, \"bckhOFK4ZMmiDoNeLiG6J8S1waw=\", false, function () {\n  return [useRowStyles, useStyles];\n});\n\n_c2 = Schedule;\n\nfunction CollapsibleTableConditonal() {\n  _s3();\n\n  const [getscript, setGetscript] = useState(false);\n\n  function getScript() {\n    $.ajax({\n      url: \"api/getschedule\",\n      method: \"POST\",\n      data: {\n        id: window.sessionStorage.getItem(\"id\")\n      },\n      async: false,\n      success: function (res) {\n        scripts.length = 0;\n\n        for (var i in res) {\n          scripts.push({\n            id: res[i].script_id,\n            time: res[i].time,\n            action: []\n          });\n        }\n\n        console.log(scripts);\n        setGetscript(true);\n      }\n    });\n  }\n\n  useEffect(() => {\n    if (!getscript) {\n      getScript();\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(TableContainer, {\n    component: Paper,\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      \"aria-label\": \"collapsible table\",\n      children: [/*#__PURE__*/_jsxDEV(TableHead, {\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              children: \"Id\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 36\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              children: \"Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 50\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              children: \"Run by a click\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 50\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n        children: scripts.map(script => /*#__PURE__*/_jsxDEV(Schedule, {\n          script: script\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 202,\n    columnNumber: 9\n  }, this);\n}\n\n_s3(CollapsibleTableConditonal, \"IUpspTFS2TeKJyS9NOwjihWeekU=\");\n\n_c3 = CollapsibleTableConditonal;\nexport default function MainSchedule() {\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      children: /*#__PURE__*/_jsxDEV(CollapsibleTableConditonal, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 224,\n    columnNumber: 9\n  }, this);\n}\n_c4 = MainSchedule;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Action\");\n$RefreshReg$(_c2, \"Schedule\");\n$RefreshReg$(_c3, \"CollapsibleTableConditonal\");\n$RefreshReg$(_c4, \"MainSchedule\");","map":{"version":3,"sources":["C:/Users/x1761/Desktop/refactoring/demo_front/my-app/src/components/main/mainSchedule.jsx"],"names":["React","useEffect","useState","Typography","$","TableContainer","Paper","Table","TableHead","TableRow","TableCell","TableBody","Container","Button","Grid","IconButton","KeyboardArrowUpIcon","KeyboardArrowDownIcon","Collapse","Box","Modal","Backdrop","Fade","makeStyles","AddAction","useRowStyles","root","borderBottom","useStyles","theme","modal","display","alignItems","justifyContent","paper","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","Action","props","action","classes","id","action_type","target_id","target_type","scripts","Schedule","formclasses","script","open","setOpen","formopen","setFormopen","getaction","setGetaction","getAction","ajax","url","method","data","script_id","async","success","res","length","i","push","action_id","time","paddingBottom","paddingTop","map","a","timeout","CollapsibleTableConditonal","getscript","setGetscript","getScript","window","sessionStorage","getItem","console","log","MainSchedule"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport $ from \"jquery\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\r\nimport KeyboardArrowDownIcon from \"@material-ui/icons/KeyboardArrowDown\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport Fade from \"@material-ui/core/Fade\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport AddAction from \"./addAction\";\r\nconst useRowStyles = makeStyles({\r\n    root: {\r\n        '& > *': {\r\n            borderBottom: 'unset',\r\n        },\r\n    },\r\n\r\n});\r\nconst useStyles = makeStyles((theme) => ({\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n    },\r\n}));\r\nfunction Action(props){\r\n    const {action} = props;\r\n    const classes = useRowStyles();\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <TableRow className={classes.root}>\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                    {action.id}\r\n                </TableCell>\r\n                <TableCell align=\"right\">{action.action_type}</TableCell>\r\n                <TableCell align=\"right\">{action.target_id}</TableCell>\r\n                <TableCell align=\"right\">{action.target_type}</TableCell>\r\n            </TableRow>\r\n        </React.Fragment>\r\n    );\r\n}\r\nconst scripts = [];\r\nfunction Schedule(props){\r\n    const classes = useRowStyles();\r\n    const formclasses = useStyles();\r\n    const {script} = props;\r\n    const [open, setOpen] = React.useState(false);\r\n    const [formopen,setFormopen] = React.useState(false);\r\n    const [getaction,setGetaction] = useState(false);\r\n    function getAction(){\r\n        $.ajax({\r\n                url: \"api/getActions\",\r\n                method:\"POST\",\r\n                data:{\r\n                    script_id:script.id\r\n                },\r\n                async:false,\r\n                success:function (res){\r\n                    script.action.length = 0;\r\n                    for(var i in res){\r\n                        script.action.push(\r\n                            {\r\n                                id:res[i].action_id,\r\n                                target_id:res[i].target_id,\r\n                                action_type:res[i].action_type,\r\n                                target_type:res[i].target_type\r\n                            }\r\n                        )\r\n                    }\r\n                    setGetaction(true);\r\n                }\r\n            }\r\n        );\r\n    }\r\n    useEffect(()=>{\r\n        if(!getaction){\r\n            getAction();\r\n        }\r\n    })\r\n    return (\r\n        <React.Fragment>\r\n            <TableRow className={classes.root}>\r\n                <TableCell>\r\n                    <IconButton aria-label=\"expand row\" size=\"small\" onClick={() => setOpen(!open)}>\r\n                        {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\r\n                    </IconButton>\r\n                </TableCell>\r\n                <TableCell component=\"th\">\r\n                    {script.id}\r\n                </TableCell>\r\n                <TableCell align=\"right\">{script.time}</TableCell>\r\n                <TableCell align=\"right\"><Button  color=\"primary\">Execute</Button></TableCell>\r\n\r\n            </TableRow>\r\n            <TableRow>\r\n                <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\r\n                    <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n                        <Box margin={1}>\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                                Actions\r\n                            </Typography>\r\n                            <Button variant=\"contained\" color=\"primary\" size={\"small\"} onClick={()=>setFormopen(!formopen)}>\r\n                                Add Action\r\n                            </Button>\r\n\r\n                            <Table size=\"small\" aria-label=\"purchases\">\r\n                                <TableHead>\r\n                                    <TableRow>\r\n                                        <TableCell><Typography variant={\"h6\"}>Action ID</Typography></TableCell>\r\n                                        <TableCell  align=\"right\"><Typography variant={\"h6\"}>Type</Typography></TableCell>\r\n                                        <TableCell align=\"right\"><Typography variant={\"h6\"}>Furniture</Typography></TableCell>\r\n                                        <TableCell align=\"right\"><Typography variant={\"h6\"}>Furniture Type</Typography></TableCell>\r\n                                    </TableRow>\r\n                                </TableHead>\r\n                                <TableBody>\r\n                                    {\r\n                                        script.action.map((a)=>(\r\n                                                <Action action={a}/>\r\n                                            )\r\n                                        )\r\n                                    }\r\n                                </TableBody>\r\n                            </Table>\r\n                            <Modal\r\n                                aria-labelledby=\"transition-modal-title\"\r\n                                aria-describedby=\"transition-modal-description\"\r\n                                className={formclasses.modal}\r\n                                open={formopen}\r\n                                onClose={()=>setFormopen(false)}\r\n                                closeAfterTransition\r\n                                BackdropComponent={Backdrop}\r\n                                BackdropProps={{\r\n                                    timeout: 500,\r\n                                }}\r\n                            >\r\n                                <Fade in={formopen}>\r\n                                    <div className={formclasses.paper}>\r\n                                        <AddAction type=\"schedule\" script_id={script.id}/>\r\n                                    </div>\r\n                                </Fade>\r\n                            </Modal>\r\n                        </Box>\r\n                    </Collapse>\r\n                </TableCell>\r\n            </TableRow>\r\n        </React.Fragment>\r\n    );\r\n}\r\nfunction CollapsibleTableConditonal() {\r\n    const [getscript,setGetscript] = useState(false);\r\n    function getScript(){\r\n        $.ajax({\r\n                url: \"api/getschedule\",\r\n                method:\"POST\",\r\n                data:{\r\n                    id:window.sessionStorage.getItem(\"id\")\r\n                },\r\n                async:false,\r\n                success:function (res){\r\n                    scripts.length = 0;\r\n                    for(var i in res){\r\n                        scripts.push(\r\n                            {\r\n                                id:res[i].script_id,\r\n                                time:res[i].time,\r\n                                action:[]\r\n                            }\r\n                        )\r\n                    }\r\n                    console.log(scripts);\r\n                    setGetscript(true);\r\n                }\r\n            }\r\n        );\r\n    }\r\n    useEffect(()=>{\r\n        if(!getscript){\r\n            getScript();\r\n        }\r\n    });\r\n    return (\r\n        <TableContainer component={Paper}>\r\n            <Table aria-label=\"collapsible table\">\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell/>\r\n                        <TableCell><Typography variant={\"h4\"}>Id</Typography></TableCell>\r\n                        <TableCell align=\"right\"><Typography variant={\"h4\"}>Time</Typography></TableCell>\r\n                        <TableCell align=\"right\"><Typography variant={\"h4\"}>Run by a click</Typography></TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {scripts.map((script)=>(\r\n                        <Schedule script={script}/>\r\n                    ))}\r\n                </TableBody>\r\n            </Table>\r\n        </TableContainer>\r\n    );\r\n}\r\n\r\nexport default function MainSchedule(){\r\n    return(\r\n        <Container>\r\n            <Grid>\r\n                <CollapsibleTableConditonal/>\r\n            </Grid>\r\n        </Container>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}