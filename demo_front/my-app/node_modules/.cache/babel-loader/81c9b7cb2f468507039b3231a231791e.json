{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\x1761\\\\Desktop\\\\\\u9879\\u76EE\\u91CD\\u6784\\\\demo_front\\\\my-app\\\\src\\\\components\\\\main\\\\mainPerson.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Container from \"@material-ui/core/Container\";\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\nimport { positions } from '@material-ui/system';\nimport Box from '@material-ui/core/Box';\nimport Typography from \"@material-ui/core/Typography\";\nimport $ from \"jquery\";\nimport { createBrowserHistory } from \"history\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MainPerson(props) {\n  _s();\n\n  const [state, setState] = useState({\n    age: '',\n    gender: '',\n    username: '',\n    phone: '',\n    email: '',\n    getState: false\n  });\n\n  function getPersonalData(username, password) {\n    $.ajax({\n      url: \"api/metadata\",\n      method: \"POST\",\n      data: {\n        password: password,\n        username: username\n      },\n      async: false,\n      success: function (res) {\n        if (res.success) {\n          setState({\n            age: res.age,\n            gender: res.gender,\n            username: res.username,\n            phone: res.phone,\n            email: res.email,\n            getState: true\n          });\n        } else {\n          alert(\"Make sure that your account available or try to log in again\");\n        }\n      }\n    });\n  }\n\n  useEffect(() => {\n    if (!state.getState) {\n      getPersonalData(window.sessionStorage.getItem(\"username\"), window.sessionStorage.getItem(\"password\"));\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      children: [\"Name:\", state.username]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      children: [\"Gender:\", state.gender]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      children: [\"Age:\", state.age]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      children: [\"Phone:\", state.phone]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      children: [\"Email:\", state.email]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MainPerson, \"2GN4obpHufxh24zNMAHhL+UP+18=\");\n\n_c = MainPerson;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainPerson\");","map":{"version":3,"sources":["C:/Users/x1761/Desktop/项目重构/demo_front/my-app/src/components/main/mainPerson.jsx"],"names":["React","useEffect","useState","Container","AccountBoxIcon","positions","Box","Typography","$","createBrowserHistory","MainPerson","props","state","setState","age","gender","username","phone","email","getState","getPersonalData","password","ajax","url","method","data","async","success","res","alert","window","sessionStorage","getItem"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,SAASC,SAAT,QAA0B,qBAA1B;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAAQC,oBAAR,QAAmC,SAAnC;;AAEA,eAAe,SAASC,UAAT,CAAoBC,KAApB,EAA0B;AAAA;;AACrC,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAmBX,QAAQ,CAAC;AAC9BY,IAAAA,GAAG,EAAE,EADyB;AAE9BC,IAAAA,MAAM,EAAE,EAFsB;AAG9BC,IAAAA,QAAQ,EAAE,EAHoB;AAI9BC,IAAAA,KAAK,EAAC,EAJwB;AAK9BC,IAAAA,KAAK,EAAC,EALwB;AAM9BC,IAAAA,QAAQ,EAAC;AANqB,GAAD,CAAjC;;AAQA,WAASC,eAAT,CAAyBJ,QAAzB,EAAkCK,QAAlC,EAA2C;AACvCb,IAAAA,CAAC,CAACc,IAAF,CAAO;AACCC,MAAAA,GAAG,EAAE,cADN;AAECC,MAAAA,MAAM,EAAC,MAFR;AAGCC,MAAAA,IAAI,EAAC;AACDJ,QAAAA,QAAQ,EAACA,QADR;AAEDL,QAAAA,QAAQ,EAACA;AAFR,OAHN;AAOCU,MAAAA,KAAK,EAAC,KAPP;AAQCC,MAAAA,OAAO,EAAC,UAAUC,GAAV,EAAc;AAClB,YAAGA,GAAG,CAACD,OAAP,EAAe;AACXd,UAAAA,QAAQ,CAAC;AACLC,YAAAA,GAAG,EAAEc,GAAG,CAACd,GADJ;AAELC,YAAAA,MAAM,EAAEa,GAAG,CAACb,MAFP;AAGLC,YAAAA,QAAQ,EAAEY,GAAG,CAACZ,QAHT;AAILC,YAAAA,KAAK,EAACW,GAAG,CAACX,KAJL;AAKLC,YAAAA,KAAK,EAACU,GAAG,CAACV,KALL;AAMLC,YAAAA,QAAQ,EAAE;AANL,WAAD,CAAR;AAQH,SATD,MASM;AACFU,UAAAA,KAAK,CAAC,8DAAD,CAAL;AACH;AACJ;AArBF,KAAP;AAwBH;;AAED5B,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAG,CAACW,KAAK,CAACO,QAAV,EAAoB;AAChBC,MAAAA,eAAe,CAACU,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,UAA9B,CAAD,EAA4CF,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,UAA9B,CAA5C,CAAf;AACH;AACJ,GAJQ,CAAT;AAMA,sBACI,QAAC,SAAD;AAAA,4BACI,QAAC,UAAD;AAAA,0BACUpB,KAAK,CAACI,QADhB;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAII,QAAC,UAAD;AAAA,4BACYJ,KAAK,CAACG,MADlB;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ,eAOI,QAAC,UAAD;AAAA,yBACSH,KAAK,CAACE,GADf;AAAA;AAAA;AAAA;AAAA;AAAA,YAPJ,eAUI,QAAC,UAAD;AAAA,2BACWF,KAAK,CAACK,KADjB;AAAA;AAAA;AAAA;AAAA;AAAA,YAVJ,eAaI,QAAC,UAAD;AAAA,2BACWL,KAAK,CAACM,KADjB;AAAA;AAAA;AAAA;AAAA;AAAA,YAbJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAmBH;;GA7DuBR,U;;KAAAA,U","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\r\nimport { positions } from '@material-ui/system';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport $ from \"jquery\";\r\nimport {createBrowserHistory} from \"history\";\r\n\r\nexport default function MainPerson(props){\r\n    const [state,setState] = useState({\r\n        age: '',\r\n        gender: '',\r\n        username: '',\r\n        phone:'',\r\n        email:'',\r\n        getState:false\r\n    })\r\n    function getPersonalData(username,password){\r\n        $.ajax({\r\n                url: \"api/metadata\",\r\n                method:\"POST\",\r\n                data:{\r\n                    password:password,\r\n                    username:username\r\n                },\r\n                async:false,\r\n                success:function (res){\r\n                    if(res.success){\r\n                        setState({\r\n                            age: res.age,\r\n                            gender: res.gender,\r\n                            username: res.username,\r\n                            phone:res.phone,\r\n                            email:res.email,\r\n                            getState: true\r\n                        })\r\n                    }else {\r\n                        alert(\"Make sure that your account available or try to log in again\");\r\n                    }\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(!state.getState) {\r\n            getPersonalData(window.sessionStorage.getItem(\"username\"), window.sessionStorage.getItem(\"password\"));\r\n        }\r\n    });\r\n\r\n    return(\r\n        <Container >\r\n            <Typography>\r\n                Name:{state.username}\r\n            </Typography>\r\n            <Typography>\r\n                Gender:{state.gender}\r\n            </Typography>\r\n            <Typography>\r\n                Age:{state.age}\r\n            </Typography>\r\n            <Typography>\r\n                Phone:{state.phone}\r\n            </Typography>\r\n            <Typography>\r\n                Email:{state.email}\r\n            </Typography>\r\n        </Container>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}