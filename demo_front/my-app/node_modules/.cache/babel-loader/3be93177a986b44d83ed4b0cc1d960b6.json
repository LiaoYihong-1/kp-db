{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\x1761\\\\Desktop\\\\refactoring\\\\demo_front\\\\my-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import Typography from\"@material-ui/core/Typography\";import React,{useEffect,useState}from'react';import{makeStyles}from'@material-ui/core/styles';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Paper from'@material-ui/core/Paper';import $ from\"jquery\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles({table:{minWidth:650}});function createData(name,calories,fat,carbs,protein){return{name:name,calories:calories,fat:fat,carbs:carbs,protein:protein};}var rows=[createData('Frozen yoghurt',159,6.0,24,4.0),createData('Ice cream sandwich',237,9.0,37,4.3),createData('Eclair',262,16.0,24,6.0),createData('Cupcake',305,3.7,67,4.3),createData('Gingerbread',356,16.0,49,3.9)];function BasicTable(){var classes=useStyles();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),gotten=_useState2[0],setGotten=_useState2[1];function getProblems(){$.ajax({url:\"api/getproblems\",method:\"POST\",data:{id:window.sessionStorage.getItem(\"id\")},async:false,success:function success(res){if(res.length>0){rows.length=0;for(var i in res){if(res.is_finished){rows.push({problem_id:res[i].id,support:res[i].support_man_id,problem_type:res[i].problem_type,description:res[i].description,date:res[i].date,finished:\"finished\"});}else{rows.push({problem_id:res[i].id,support:res[i].support_man_id,problem_type:res[i].problem_type,description:res[i].description,date:res[i].date,finished:\"on process\"});}}setGotten(true);}}});}useEffect(function(){if(!gotten){getProblems();}});return/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{className:classes.table,\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Problem id\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"description\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Date\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Support id\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Problem type\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"status\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:rows.map(function(row){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:row.problem_id}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.description}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.date}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.support}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.problem_type}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.finished})]},row.name);})})]})});}export default function MainReport(){return/*#__PURE__*/_jsx(BasicTable,{});}","map":{"version":3,"sources":["C:/Users/x1761/Desktop/refactoring/demo_front/my-app/src/components/main/mainReport.jsx"],"names":["Typography","React","useEffect","useState","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","$","useStyles","table","minWidth","createData","name","calories","fat","carbs","protein","rows","BasicTable","classes","gotten","setGotten","getProblems","ajax","url","method","data","id","window","sessionStorage","getItem","async","success","res","length","i","is_finished","push","problem_id","support","support_man_id","problem_type","description","date","finished","map","row","MainReport"],"mappings":"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","sourcesContent":["import Typography from \"@material-ui/core/Typography\";\r\nimport React, {useEffect, useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport $ from \"jquery\";\r\n\r\nconst useStyles = makeStyles({\r\n    table: {\r\n        minWidth: 650,\r\n    },\r\n});\r\n\r\nfunction createData(name, calories, fat, carbs, protein) {\r\n    return { name, calories, fat, carbs, protein };\r\n}\r\n\r\nconst rows = [\r\n    createData('Frozen yoghurt', 159, 6.0, 24, 4.0),\r\n    createData('Ice cream sandwich', 237, 9.0, 37, 4.3),\r\n    createData('Eclair', 262, 16.0, 24, 6.0),\r\n    createData('Cupcake', 305, 3.7, 67, 4.3),\r\n    createData('Gingerbread', 356, 16.0, 49, 3.9),\r\n];\r\n\r\nfunction BasicTable() {\r\n    const classes = useStyles();\r\n    const [gotten,setGotten] = useState(false);\r\n    function getProblems(){\r\n        $.ajax({\r\n                url: \"api/getproblems\",\r\n                method:\"POST\",\r\n                data:{\r\n                    id:window.sessionStorage.getItem(\"id\")\r\n                },\r\n                async:false,\r\n                success:function (res){\r\n                    if(res.length > 0){\r\n                        rows.length = 0;\r\n                        for(var i in res){\r\n                            if(res.is_finished) {\r\n                                rows.push({\r\n                                    problem_id: res[i].id,\r\n                                    support: res[i].support_man_id,\r\n                                    problem_type: res[i].problem_type,\r\n                                    description: res[i].description,\r\n                                    date: res[i].date,\r\n                                    finished: \"finished\"\r\n                                })\r\n                            }else{\r\n                                rows.push({\r\n                                    problem_id: res[i].id,\r\n                                    support: res[i].support_man_id,\r\n                                    problem_type: res[i].problem_type,\r\n                                    description: res[i].description,\r\n                                    date: res[i].date,\r\n                                    finished: \"on process\"\r\n                                })\r\n                            }\r\n                        }\r\n                        setGotten(true);\r\n                    }\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(!gotten){\r\n            getProblems()\r\n        }\r\n    });\r\n    return (\r\n        <TableContainer component={Paper}>\r\n            <Table className={classes.table} aria-label=\"simple table\">\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>Problem id</TableCell>\r\n                        <TableCell align=\"right\">description</TableCell>\r\n                        <TableCell align=\"right\">Date</TableCell>\r\n                        <TableCell align=\"right\">Support id</TableCell>\r\n                        <TableCell align=\"right\">Problem type</TableCell>\r\n                        <TableCell align=\"right\">status</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {rows.map((row) => (\r\n                        <TableRow key={row.name}>\r\n                            <TableCell component=\"th\" scope=\"row\">\r\n                                {row.problem_id}\r\n                            </TableCell>\r\n                            <TableCell align=\"right\">{row.description}</TableCell>\r\n                            <TableCell align=\"right\">{row.date}</TableCell>\r\n                            <TableCell align=\"right\">{row.support}</TableCell>\r\n                            <TableCell align=\"right\">{row.problem_type}</TableCell>\r\n                            <TableCell align=\"right\">{row.finished}</TableCell>\r\n                        </TableRow>\r\n                    ))}\r\n                </TableBody>\r\n            </Table>\r\n        </TableContainer>\r\n    );\r\n}\r\n\r\nexport default function MainReport(){\r\n    return(\r\n        <BasicTable/>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}