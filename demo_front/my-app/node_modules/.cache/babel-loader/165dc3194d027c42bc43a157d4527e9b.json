{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\x1761\\\\Desktop\\\\refactoring\\\\demo_front\\\\my-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Container from\"@material-ui/core/Container\";import AccountBoxIcon from'@material-ui/icons/AccountBox';import{positions}from'@material-ui/system';import Box from'@material-ui/core/Box';import Typography from\"@material-ui/core/Typography\";import $ from\"jquery\";import{createBrowserHistory}from\"history\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function MainPerson(props){var _useState=useState({age:'',gender:'',username:'',phone:'',email:'',getState:false}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];function getPersonalData(username,password){$.ajax({url:\"api/metadata\",method:\"POST\",data:{password:password,username:username},async:false,success:function success(res){if(res.success){setState({age:res.age,gender:res.gender,username:res.username,phone:res.phone,email:res.email,getState:true});}else{alert(\"Make sure that your account available or try to log in again\");}}});}useEffect(function(){if(!state.getState){getPersonalData(window.sessionStorage.getItem(\"username\"),window.sessionStorage.getItem(\"password\"));}});return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Typography,{children:[\"Name:\",state.username]}),/*#__PURE__*/_jsxs(Typography,{children:[\"Gender:\",state.gender]}),/*#__PURE__*/_jsxs(Typography,{children:[\"Age:\",state.age]}),/*#__PURE__*/_jsxs(Typography,{children:[\"Phone:\",state.phone]}),/*#__PURE__*/_jsxs(Typography,{children:[\"Email:\",state.email]})]});}","map":{"version":3,"sources":["C:/Users/x1761/Desktop/refactoring/demo_front/my-app/src/components/main/mainPerson.jsx"],"names":["React","useEffect","useState","Container","AccountBoxIcon","positions","Box","Typography","$","createBrowserHistory","MainPerson","props","age","gender","username","phone","email","getState","state","setState","getPersonalData","password","ajax","url","method","data","async","success","res","alert","window","sessionStorage","getItem"],"mappings":"sJAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,cAAP,KAA2B,+BAA3B,CACA,OAASC,SAAT,KAA0B,qBAA1B,CACA,MAAOC,CAAAA,GAAP,KAAgB,uBAAhB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CACA,OAAQC,oBAAR,KAAmC,SAAnC,C,6CAEA,cAAe,SAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA0B,CACrC,cAAyBT,QAAQ,CAAC,CAC9BU,GAAG,CAAE,EADyB,CAE9BC,MAAM,CAAE,EAFsB,CAG9BC,QAAQ,CAAE,EAHoB,CAI9BC,KAAK,CAAC,EAJwB,CAK9BC,KAAK,CAAC,EALwB,CAM9BC,QAAQ,CAAC,KANqB,CAAD,CAAjC,wCAAOC,KAAP,eAAaC,QAAb,eAQA,QAASC,CAAAA,eAAT,CAAyBN,QAAzB,CAAkCO,QAAlC,CAA2C,CACvCb,CAAC,CAACc,IAAF,CAAO,CACCC,GAAG,CAAE,cADN,CAECC,MAAM,CAAC,MAFR,CAGCC,IAAI,CAAC,CACDJ,QAAQ,CAACA,QADR,CAEDP,QAAQ,CAACA,QAFR,CAHN,CAOCY,KAAK,CAAC,KAPP,CAQCC,OAAO,CAAC,iBAAUC,GAAV,CAAc,CAClB,GAAGA,GAAG,CAACD,OAAP,CAAe,CACXR,QAAQ,CAAC,CACLP,GAAG,CAAEgB,GAAG,CAAChB,GADJ,CAELC,MAAM,CAAEe,GAAG,CAACf,MAFP,CAGLC,QAAQ,CAAEc,GAAG,CAACd,QAHT,CAILC,KAAK,CAACa,GAAG,CAACb,KAJL,CAKLC,KAAK,CAACY,GAAG,CAACZ,KALL,CAMLC,QAAQ,CAAE,IANL,CAAD,CAAR,CAQH,CATD,IASM,CACFY,KAAK,CAAC,8DAAD,CAAL,CACH,CACJ,CArBF,CAAP,EAwBH,CAED5B,SAAS,CAAC,UAAM,CACZ,GAAG,CAACiB,KAAK,CAACD,QAAV,CAAoB,CAChBG,eAAe,CAACU,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,UAA9B,CAAD,CAA4CF,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,UAA9B,CAA5C,CAAf,CACH,CACJ,CAJQ,CAAT,CAMA,mBACI,MAAC,SAAD,yBACI,MAAC,UAAD,oBACUd,KAAK,CAACJ,QADhB,GADJ,cAII,MAAC,UAAD,sBACYI,KAAK,CAACL,MADlB,GAJJ,cAOI,MAAC,UAAD,mBACSK,KAAK,CAACN,GADf,GAPJ,cAUI,MAAC,UAAD,qBACWM,KAAK,CAACH,KADjB,GAVJ,cAaI,MAAC,UAAD,qBACWG,KAAK,CAACF,KADjB,GAbJ,GADJ,CAmBH","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\r\nimport { positions } from '@material-ui/system';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport $ from \"jquery\";\r\nimport {createBrowserHistory} from \"history\";\r\n\r\nexport default function MainPerson(props){\r\n    const [state,setState] = useState({\r\n        age: '',\r\n        gender: '',\r\n        username: '',\r\n        phone:'',\r\n        email:'',\r\n        getState:false\r\n    })\r\n    function getPersonalData(username,password){\r\n        $.ajax({\r\n                url: \"api/metadata\",\r\n                method:\"POST\",\r\n                data:{\r\n                    password:password,\r\n                    username:username\r\n                },\r\n                async:false,\r\n                success:function (res){\r\n                    if(res.success){\r\n                        setState({\r\n                            age: res.age,\r\n                            gender: res.gender,\r\n                            username: res.username,\r\n                            phone:res.phone,\r\n                            email:res.email,\r\n                            getState: true\r\n                        })\r\n                    }else {\r\n                        alert(\"Make sure that your account available or try to log in again\");\r\n                    }\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(!state.getState) {\r\n            getPersonalData(window.sessionStorage.getItem(\"username\"), window.sessionStorage.getItem(\"password\"));\r\n        }\r\n    });\r\n\r\n    return(\r\n        <Container >\r\n            <Typography>\r\n                Name:{state.username}\r\n            </Typography>\r\n            <Typography>\r\n                Gender:{state.gender}\r\n            </Typography>\r\n            <Typography>\r\n                Age:{state.age}\r\n            </Typography>\r\n            <Typography>\r\n                Phone:{state.phone}\r\n            </Typography>\r\n            <Typography>\r\n                Email:{state.email}\r\n            </Typography>\r\n        </Container>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}