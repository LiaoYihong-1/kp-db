{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\x1761\\\\Desktop\\\\refactoring\\\\demo_front\\\\my-app\\\\src\\\\components\\\\main\\\\mainPerson.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Container from \"@material-ui/core/Container\";\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\nimport { positions } from '@material-ui/system';\nimport Box from '@material-ui/core/Box';\nimport Typography from \"@material-ui/core/Typography\";\nimport $ from \"jquery\";\nimport { createBrowserHistory } from \"history\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MainPerson(props) {\n  _s();\n\n  const [state, setState] = useState({\n    age: '',\n    gender: '',\n    username: '',\n    phone: '',\n    email: '',\n    getState: false\n  });\n\n  function getPersonalData(token) {\n    $.ajax({\n      url: \"api/users\",\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        // 设置内容类型为 JSON\n        'token': sessionStorage.getItem(\"token\") // 设置授权头\n        // 可以添加其他自定义请求头\n\n      },\n      async: false,\n      success: function (res) {\n        if (res.success) {\n          setState({\n            age: res.age,\n            gender: res.gender,\n            username: res.username,\n            phone: res.phone,\n            email: res.email,\n            getState: true\n          });\n        } else {\n          alert(\"Make sure that your account available or try to log in again\");\n        }\n      }\n    });\n  }\n\n  useEffect(() => {\n    if (!state.getState) {\n      getPersonalData(window.sessionStorage.getItem(\"token\"));\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      children: [\"Name:\", state.username]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      children: [\"Gender:\", state.gender]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      children: [\"Age:\", state.age]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      children: [\"Phone:\", state.phone]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      children: [\"Email:\", state.email]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MainPerson, \"2GN4obpHufxh24zNMAHhL+UP+18=\");\n\n_c = MainPerson;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainPerson\");","map":{"version":3,"sources":["C:/Users/x1761/Desktop/refactoring/demo_front/my-app/src/components/main/mainPerson.jsx"],"names":["React","useEffect","useState","Container","AccountBoxIcon","positions","Box","Typography","$","createBrowserHistory","MainPerson","props","state","setState","age","gender","username","phone","email","getState","getPersonalData","token","ajax","url","method","headers","sessionStorage","getItem","async","success","res","alert","window"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,SAASC,SAAT,QAA0B,qBAA1B;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAAQC,oBAAR,QAAmC,SAAnC;;AAEA,eAAe,SAASC,UAAT,CAAoBC,KAApB,EAA0B;AAAA;;AACrC,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAmBX,QAAQ,CAAC;AAC9BY,IAAAA,GAAG,EAAE,EADyB;AAE9BC,IAAAA,MAAM,EAAE,EAFsB;AAG9BC,IAAAA,QAAQ,EAAE,EAHoB;AAI9BC,IAAAA,KAAK,EAAC,EAJwB;AAK9BC,IAAAA,KAAK,EAAC,EALwB;AAM9BC,IAAAA,QAAQ,EAAC;AANqB,GAAD,CAAjC;;AAQA,WAASC,eAAT,CAAyBC,KAAzB,EAA+B;AAC3Bb,IAAAA,CAAC,CAACc,IAAF,CAAO;AACCC,MAAAA,GAAG,EAAE,WADN;AAECC,MAAAA,MAAM,EAAC,MAFR;AAGCC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAC+B;AACpC,iBAASC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAFJ,CAEoC;AACzC;;AAHK,OAHV;AAQCC,MAAAA,KAAK,EAAC,KARP;AASCC,MAAAA,OAAO,EAAC,UAAUC,GAAV,EAAc;AAClB,YAAGA,GAAG,CAACD,OAAP,EAAe;AACXhB,UAAAA,QAAQ,CAAC;AACLC,YAAAA,GAAG,EAAEgB,GAAG,CAAChB,GADJ;AAELC,YAAAA,MAAM,EAAEe,GAAG,CAACf,MAFP;AAGLC,YAAAA,QAAQ,EAAEc,GAAG,CAACd,QAHT;AAILC,YAAAA,KAAK,EAACa,GAAG,CAACb,KAJL;AAKLC,YAAAA,KAAK,EAACY,GAAG,CAACZ,KALL;AAMLC,YAAAA,QAAQ,EAAE;AANL,WAAD,CAAR;AAQH,SATD,MASM;AACFY,UAAAA,KAAK,CAAC,8DAAD,CAAL;AACH;AACJ;AAtBF,KAAP;AAyBH;;AAED9B,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAG,CAACW,KAAK,CAACO,QAAV,EAAoB;AAChBC,MAAAA,eAAe,CAACY,MAAM,CAACN,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,CAAD,CAAf;AACH;AACJ,GAJQ,CAAT;AAMA,sBACI,QAAC,SAAD;AAAA,4BACI,QAAC,UAAD;AAAA,0BACUf,KAAK,CAACI,QADhB;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAII,QAAC,UAAD;AAAA,4BACYJ,KAAK,CAACG,MADlB;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ,eAOI,QAAC,UAAD;AAAA,yBACSH,KAAK,CAACE,GADf;AAAA;AAAA;AAAA;AAAA;AAAA,YAPJ,eAUI,QAAC,UAAD;AAAA,2BACWF,KAAK,CAACK,KADjB;AAAA;AAAA;AAAA;AAAA;AAAA,YAVJ,eAaI,QAAC,UAAD;AAAA,2BACWL,KAAK,CAACM,KADjB;AAAA;AAAA;AAAA;AAAA;AAAA,YAbJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAmBH;;GA9DuBR,U;;KAAAA,U","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\r\nimport { positions } from '@material-ui/system';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport $ from \"jquery\";\r\nimport {createBrowserHistory} from \"history\";\r\n\r\nexport default function MainPerson(props){\r\n    const [state,setState] = useState({\r\n        age: '',\r\n        gender: '',\r\n        username: '',\r\n        phone:'',\r\n        email:'',\r\n        getState:false\r\n    })\r\n    function getPersonalData(token){\r\n        $.ajax({\r\n                url: \"api/users\",\r\n                method:\"POST\",\r\n                headers: {\r\n                    'Content-Type': 'application/json', // 设置内容类型为 JSON\r\n                    'token': sessionStorage.getItem(\"token\") // 设置授权头\r\n                    // 可以添加其他自定义请求头\r\n                },\r\n                async:false,\r\n                success:function (res){\r\n                    if(res.success){\r\n                        setState({\r\n                            age: res.age,\r\n                            gender: res.gender,\r\n                            username: res.username,\r\n                            phone:res.phone,\r\n                            email:res.email,\r\n                            getState: true\r\n                        })\r\n                    }else {\r\n                        alert(\"Make sure that your account available or try to log in again\");\r\n                    }\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(!state.getState) {\r\n            getPersonalData(window.sessionStorage.getItem(\"token\"));\r\n        }\r\n    });\r\n\r\n    return(\r\n        <Container >\r\n            <Typography>\r\n                Name:{state.username}\r\n            </Typography>\r\n            <Typography>\r\n                Gender:{state.gender}\r\n            </Typography>\r\n            <Typography>\r\n                Age:{state.age}\r\n            </Typography>\r\n            <Typography>\r\n                Phone:{state.phone}\r\n            </Typography>\r\n            <Typography>\r\n                Email:{state.email}\r\n            </Typography>\r\n        </Container>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}